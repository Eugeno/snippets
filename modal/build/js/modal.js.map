{"version":3,"sources":["src/js/modal.js"],"names":["Modal","el","options","classCallCheck","this","document","querySelector","settings","Object","assign","activeClass","overlay","close","open","bind","_onKeyDown","init","modalOverlay","modalClose","addEventListener","window","defaults","removeEventListener","KeyCodes","evt","target","keyCode"],"mappings":"whBAAMA,WACJ,SAAAA,EAAaC,EAAIC,GAASC,EAAAC,KAAAJ,GAEtBI,KAAKH,GADW,iBAAPA,EACCI,SAASC,cAAcL,GAEvBA,EASZG,KAAKG,SAAWC,OAAOC,WALrBC,YAAa,aACbC,QAAS,kBACTC,MAAO,iBAGmCV,GAE5CE,KAAKS,KAAOT,KAAKS,KAAKC,KAAKV,MAC3BA,KAAKQ,MAAQR,KAAKQ,MAAME,KAAKV,MAC7BA,KAAKW,WAAaX,KAAKW,WAAWD,KAAKV,MAEvCA,KAAKY,gDAILZ,KAAKa,aAAeb,KAAKH,GAAGK,cAAcF,KAAKG,SAASI,SACxDP,KAAKc,WAAad,KAAKH,GAAGK,cAAcF,KAAKG,SAASK,OAElDR,KAAKa,cACPb,KAAKa,aAAaE,iBAAiB,QAASf,KAAKQ,OA5BjDZ,KAAAA,YACJI,KAAAc,WAAAC,iBAA0B,QAAAf,KAAAQ,uCACxBR,KAEOa,cAAAb,KAAAc,aACLE,OAAKnB,iBAAL,UAAAG,KAAAW,YAGFX,KAAAH,GAAMoB,UAAAA,IAAWjB,KAAAG,SAAAG,6CAAAU,OAAjBE,oBAAA,UAAAlB,KAAAW,YAMAX,KAAAH,GAAKM,UAAWC,OAAOC,KAAAA,SAAWY,gDAG7BT,GACL,IAAAW,EAiCS,GAjCTA,EAEKP,IAmCAQ,EAAIC,SAAWrB,KAAKc,YAAcM,EAAIE,UAAYH,GAAmBC,EAAIE,UAAYH,IACxFnB,KAAKQ,cAxDLZ","file":"modal.js","sourcesContent":["class Modal {\r\n  constructor (el, options) {\r\n    if (typeof el === 'string') {\r\n      this.el = document.querySelector(el)\r\n    } else {\r\n      this.el = el\r\n    }\r\n\r\n    const defaults = {\r\n      activeClass: '_is-active',\r\n      overlay: '.modal__overlay',\r\n      close: '.modal__close',\r\n    }\r\n\r\n    this.settings = Object.assign({}, defaults, options)\r\n\r\n    this.open = this.open.bind(this)\r\n    this.close = this.close.bind(this)\r\n    this._onKeyDown = this._onKeyDown.bind(this)\r\n\r\n    this.init()\r\n  }\r\n\r\n  init () {\r\n    this.modalOverlay = this.el.querySelector(this.settings.overlay)\r\n    this.modalClose = this.el.querySelector(this.settings.close)\r\n\r\n    if (this.modalOverlay) {\r\n      this.modalOverlay.addEventListener('click', this.close)\r\n    }\r\n    if (this.modalClose) {\r\n      this.modalClose.addEventListener('click', this.close)\r\n    }\r\n  }\r\n\r\n  open () {\r\n    if (this.modalOverlay || this.modalClose) {\r\n      window.addEventListener('keydown', this._onKeyDown)\r\n    }\r\n\r\n    this.el.classList.add(this.settings.activeClass)\r\n  }\r\n\r\n  close () {\r\n    window.removeEventListener('keydown', this._onKeyDown)\r\n\r\n    this.el.classList.remove(this.settings.activeClass)\r\n  }\r\n\r\n  _onKeyDown (evt) {\r\n    const KeyCodes = {\r\n      ENTER: 13,\r\n      ESCAPE: 27,\r\n    }\r\n\r\n    if ((evt.target === this.modalClose && evt.keyCode === KeyCodes.ENTER) || evt.keyCode === KeyCodes.ESCAPE) {\r\n      this.close()\r\n    }\r\n  }\r\n}\r\n\r\nexport default Modal\r\n"]}